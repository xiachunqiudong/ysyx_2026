package exu

import chisel3._
import chisel3.util._
import chisel3.util.experimental.decode._

object RV32I_InstTable {
  def LUI       = BitPat("b???????_?????_?????_???_?????_0110111")
  def AUIPC     = BitPat("b???????_?????_?????_???_?????_0010111")
  def JAL       = BitPat("b???????_?????_?????_???_?????_1101111")
  def JALR      = BitPat("b???????_?????_?????_000_?????_1100111")
  def BEQ       = BitPat("b???????_?????_?????_000_?????_1100011")
  def BNE       = BitPat("b???????_?????_?????_001_?????_1100011")
  def BLT       = BitPat("b???????_?????_?????_100_?????_1100011")
  def BGE       = BitPat("b???????_?????_?????_101_?????_1100011")
  def BLTU      = BitPat("b???????_?????_?????_110_?????_1100011")
  def BGEU      = BitPat("b???????_?????_?????_111_?????_1100011")
  def LB        = BitPat("b???????_?????_?????_000_?????_0000011")
  def LH        = BitPat("b???????_?????_?????_001_?????_0000011")
  def LW        = BitPat("b???????_?????_?????_010_?????_0000011")
  def LBU       = BitPat("b???????_?????_?????_100_?????_0000011")
  def LHU       = BitPat("b???????_?????_?????_101_?????_0000011")
  def SB        = BitPat("b???????_?????_?????_000_?????_0100011")
  def SH        = BitPat("b???????_?????_?????_001_?????_0100011")
  def SW        = BitPat("b???????_?????_?????_010_?????_0100011")
  def ADDI      = BitPat("b???????_?????_?????_000_?????_0010011")
  def SLTI      = BitPat("b???????_?????_?????_010_?????_0010011")
  def SLTIU     = BitPat("b???????_?????_?????_011_?????_0010011")
  def XORI      = BitPat("b???????_?????_?????_100_?????_0010011")
  def ORI       = BitPat("b???????_?????_?????_110_?????_0010011")
  def ANDI      = BitPat("b???????_?????_?????_111_?????_0010011")
  def SLLI      = BitPat("b0000000_?????_?????_001_?????_0010011")
  def SRLI      = BitPat("b0000000_?????_?????_101_?????_0010011")
  def SRAI      = BitPat("b0100000_?????_?????_101_?????_0010011")
  def ADD       = BitPat("b0000000_?????_?????_000_?????_0110011")
  def SUB       = BitPat("b0100000_?????_?????_000_?????_0110011")
  def SLL       = BitPat("b0000000_?????_?????_001_?????_0110011")
  def SLT       = BitPat("b0000000_?????_?????_010_?????_0110011")
  def SLTU      = BitPat("b0000000_?????_?????_011_?????_0110011")
  def XOR       = BitPat("b0000000_?????_?????_100_?????_0110011")
  def SRL       = BitPat("b0000000_?????_?????_101_?????_0110011")
  def SRA       = BitPat("b0100000_?????_?????_101_?????_0110011")
  def OR        = BitPat("b0000000_?????_?????_110_?????_0110011")
  def AND       = BitPat("b0000000_?????_?????_111_?????_0110011")
  def ECALL     = BitPat("b0000000_00000_00000_000_00000_1110011")
  def EBREAK    = BitPat("b0000000_00001_00000_000_00000_1110011")

  val RV32I_MAP = TruthTable(
                  Map(LUI    -> BitPat("b001"),
                      AUIPC  -> BitPat("b001"),
                      JALR   -> BitPat("b000"),
                      BEQ    -> BitPat("b110"),
                      JAL    -> BitPat("b000"),
                      BNE    -> BitPat("b110"),
                      BLT    -> BitPat("b110"),
                      BGE    -> BitPat("b110"),
                      BLTU   -> BitPat("b110"),
                      BGEU   -> BitPat("b110"),
                      LB     -> BitPat("b001"),
                      LH     -> BitPat("b001"),
                      LW     -> BitPat("b001"),
                      LBU    -> BitPat("b001"),
                      LHU    -> BitPat("b001"),
                      SB     -> BitPat("b000"),
                      SH     -> BitPat("b000"),
                      SW     -> BitPat("b000"),
                      ADDI   -> BitPat("b001"),
                      SLTI   -> BitPat("b001"),
                      SLTIU  -> BitPat("b001"),
                      XORI   -> BitPat("b001"),
                      ORI    -> BitPat("b001"),
                      ANDI   -> BitPat("b001"),
                      SLLI   -> BitPat("b001"),
                      SRLI   -> BitPat("b001"),
                      SRAI   -> BitPat("b001"),
                      ADD    -> BitPat("b111"),
                      SUB    -> BitPat("b111"),
                      SLL    -> BitPat("b111"),
                      SLT    -> BitPat("b111"),
                      SLTU   -> BitPat("b111"),
                      XOR    -> BitPat("b111"),
                      SRL    -> BitPat("b111"),
                      SRA    -> BitPat("b111"),
                      OR     -> BitPat("b111"),
                      AND    -> BitPat("b110"),
                      ECALL  -> BitPat("b000"),
                      EBREAK -> BitPat("b000")),
                                BitPat("b000")) // Default
}
